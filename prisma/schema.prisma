generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

/// The underlying table does not contain a valid unique identifier and can therefore currently not be handled by the Prisma Client.
model admin {
  id        String? @db.VarChar(40)
  ten       String? @db.VarChar(50)
  gioi_tinh String? @db.VarChar(10)
  fk_user   String? @db.VarChar(40)
  user      user?   @relation(fields: [fk_user], references: [id])

  @@index([fk_user], name: "admin_user_id_fk")
  @@ignore
}

model buoi_hoc {
  id                String   @id @db.VarChar(40)
  fk_phan_cong      String   @db.VarChar(40)
  fk_phong          String   @db.VarChar(40)
  thoi_gian_bat_dau DateTime @db.DateTime(0)
  so_tiet           Int
  phancong          phancong @relation(fields: [fk_phan_cong], references: [id])
  phong             phong    @relation(fields: [fk_phong], references: [id])

  @@index([fk_phan_cong], name: "fk_phan_cong")
  @@index([fk_phong], name: "fk_phong")
}

model giang_vien {
  id        String     @id @db.VarChar(40)
  ten       String     @db.VarChar(50)
  gioi_tinh String     @db.VarChar(10)
  fk_user   String?    @db.VarChar(40)
  user      user?      @relation(fields: [fk_user], references: [id])
  phancong  phancong[]

  @@index([fk_user], name: "giang_vien_user_id_fk")
}

model lop {
  id       String     @id @db.VarChar(40)
  ten      String     @unique @db.VarChar(50)
  nam_hoc  Int
  ki       Int
  phancong phancong[]
  sinhvien sinhvien[]
}

model mon_hoc {
  id       String     @id @db.VarChar(40)
  ten      String     @unique @db.VarChar(50)
  stc      Int
  phancong phancong[]
}

model phancong {
  id           String     @id @db.VarChar(40)
  fk_giangvien String     @db.VarChar(40)
  fk_lop       String     @db.VarChar(40)
  fk_mon_hoc   String     @db.VarChar(40)
  loai         Int
  giang_vien   giang_vien @relation(fields: [fk_giangvien], references: [id])
  lop          lop        @relation(fields: [fk_lop], references: [id])
  mon_hoc      mon_hoc    @relation(fields: [fk_mon_hoc], references: [id])
  buoi_hoc     buoi_hoc[]

  @@index([fk_giangvien, fk_mon_hoc, fk_lop], name: "fk_giangvien")
  @@index([fk_lop], name: "phancong_lop_id_fk")
  @@index([fk_mon_hoc], name: "phancong_mon_hoc_id_fk")
}

model phong {
  id       String     @id @db.VarChar(40)
  ten      String?    @db.VarChar(10)
  buoi_hoc buoi_hoc[]
}

model quyen {
  id        String   @id @db.VarChar(40)
  ten       String   @unique @db.VarChar(50)
  user      user[]
  create_at DateTime @default(now())
  update_at DateTime @updatedAt
}

model sinhvien {
  id        String  @id @db.VarChar(40)
  ten       String  @db.VarChar(100)
  fk_lop    String? @db.VarChar(40)
  gioi_tinh String? @db.VarChar(10)
  email     String? @db.VarChar(50)
  fk_user   String? @db.VarChar(40)
  lop       lop?    @relation(fields: [fk_lop], references: [id])
  user      user?   @relation(fields: [fk_user], references: [id])

  @@index([fk_lop], name: "sinhvien_lop_id_fk")
  @@index([fk_user], name: "sinhvien_user_id_fk")
}

model user {
  id         String       @id @db.VarChar(40)
  username   String       @unique @db.VarChar(18)
  password   String       @unique @db.VarChar(18)
  fk_quyen   String?      @db.VarChar(40)
  quyen      quyen?       @relation(fields: [fk_quyen], references: [id])
  admin      admin[]      @ignore
  giang_vien giang_vien[]
  sinhvien   sinhvien[]
  create_at  DateTime     @default(now())
  update_at  DateTime     @updatedAt

  @@index([fk_quyen], name: "user_quyen_id_fk")
}
